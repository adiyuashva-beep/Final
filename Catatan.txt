sekarang udah di perbarui 4 file
Admin.html
adminBK.html
monitor.html
index.html


Di admin HTML dasboar app store perlu ditambahkan on off untuk setiap  fitur yang baru ditambahkan ini belum


üìÇ DOKUMENTASI TEKNIS & LOG PENGEMBANGAN "SiGanteng"Tanggal: 10 Januari 2026Developer: Tim IT SMAN 1 Pejagoan (Mas Asmaul & Gemini Architect)Status: ‚úÖ READY FOR PRODUCTION (GO LIVE)1. üö© Latar Belakang Masalah (Diagnosis Awal)Sebelum perbaikan, sistem mengalami Inkonsistensi Data (Data Drift) yang kritis:Total Siswa Berbeda: Antara Admin, BK, dan TV menampilkan angka populasi yang tidak sinkron.Inflasi Kehadiran: Absensi Guru/Tendik ikut terhitung sebagai "Siswa Hadir", mengacaukan statistik.Data Hantu (Ghosting): Siswa yang sudah dihapus di database masih muncul di rekap BK karena tersimpan di Cache Browser lokal.Logic Alpha Error: Jumlah Alpha meledak (sampai 500+) karena rumus pengurangan tidak memfilter role siswa dengan benar.2. üõ†Ô∏è Solusi & Perbaikan Per-ModulBerikut adalah detail perubahan arsitektur yang telah diterapkan pada 6 file utama:A. index.html (Gerbang & Keamanan)Fitur Baru: Smart Router (Penunjuk Arah).Cara Kerja:Sistem mengecek role di database saat login.super / admin $\rightarrow$ Masuk admin.htmlbk $\rightarrow$ Masuk adminBK.htmlkurikulum $\rightarrow$ Masuk adminKBM.htmlguru $\rightarrow$ Masuk guru.htmlsiswa $\rightarrow$ Masuk siswa.htmlKeamanan: Mencegah siswa masuk ke halaman guru/admin lewat URL.B. admin.html (Master Control - IT)Perbaikan:Statistik Terpisah: Memisahkan hitungan "Total Siswa" dan "Total Guru" (bukan lagi "Total User").Fitur Pelantikan: Menambahkan menu dropdown untuk mengangkat Guru menjadi Koordinator BK (bk) atau Waka Kurikulum (kurikulum) langsung dari aplikasi tanpa membuka Firebase Console.C. adminBK.html (Panel Kesiswaan)Perbaikan Kritis:Anti-Hantu: Tombol "Refresh" kini otomatis menghapus Cache Lama sebelum mengambil data baru. Siswa yang dihapus di Admin IT pasti hilang di sini.Anti-Inflasi: Menerapkan filter isSiswa pada datarealtime. Absensi guru tidak akan masuk hitungan statistik siswa.Logika Alpha: Menggunakan rumus pasti: Total Siswa DB - (Hadir + Izin + Sakit).D. monitor.html (TV Lobi)Perbaikan:Disinkronkan query-nya agar sama persis dengan BK (Hanya menampilkan Role Siswa).Data cache diperbarui ke v3 untuk memaksa download ulang data bersih.E. adminKBM.html (Panel Kurikulum)Perubahan Total:Diubah menjadi Mode Monitoring (Dark Mode) agar konsisten dengan Admin/BK.Fitur: Menampilkan Jurnal Mengajar Realtime (Limit 20 data hemat kuota), Rekap Harian, Statistik Guru Mengajar, dan Download Excel.Penyesuaian: Menghapus form input jurnal (karena Waka input jurnal via guru.html).F. guru.html (Panel Guru)Fitur Canggih: Portal Pejabat (Role Switching).Cara Kerja:Jika yang login adalah Guru Biasa $\rightarrow$ Tampilan standar.Jika yang login adalah Waka/BK/Admin $\rightarrow$ Muncul tombol spesial di pojok kanan atas untuk kembali ke Panel Admin masing-masing tanpa Logout.
